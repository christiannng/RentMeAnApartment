<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Welcome To RENT-ME-AN-APARTMENT</title>
<link href="../static/css/main.css" th:href="@{/css/main.css}" rel="stylesheet" />
</head>
<body>
	<h1>Apartment list</h1>
	<div style="color: red" th:text="${error}"></div><br>
	
	<form method="get" th:action="@{/}">
		<input type="submit" value="Logout!">
	</form>
	
	<div th:if="${aptList != null and !aptList.empty}">
		<table th:each="a : ${aptList}">
			<tr>
			<div th:if= "${a.imageURL !='' }">
				<td><img th:src="@{${a.imageURL}}" width="300" height="300"/></td>
			</div>
			<div th:unless= "${a.imageURL !='' }">
				<td><img src="https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png" width="300" height="300"/></td>
			</div>
				<td>
					<table	th:if="${a.status}">
						<tr><h1>THIS APARTMENT IS RENTED</h1></tr>
					</table>
					<table th:unless="${a.status}">
						<tr>
							<td>Apartment #:</td>
							<td th:text="${a.apartmentNo}"></td>
						</tr>
						
						<tr>
							<td>Property Manager:</td>
							<td th:text="${a.propertyManager}"></td>
						</tr>
						
						<tr>
							<td>Address:</td>
							<td th:text="${a.getAddress()}"></td>
						</tr>
						
						<tr>
							<td>Rent: $</td>
							<td th:text="${a.rent}"></td>
						</tr>
						
						<tr>
							<td>From:</td>
							<td th:text="${a.rentFrom}"></td>
						</tr>
						
						<tr>
							<td>To:</td>
							<td th:text="${a.rentTo}"></td>
						</tr>
						
						<tr>
							<td>
								<form method ="post" th:action="@{/user/proceedRent}">
									<input type="hidden" name = "aptId" th:value="${a.id}" value="${aptId}">
									<input type="submit" value="Rent!">
								</form>
							</td>
						</tr>
						
					</table>
				</td>
			</tr>
		</table>
	</div>
	
		
	<!-- 
	<img th:src="@{${m.imageURL}}" width="300" height="300"/>
	<table>
		<tr style="font-weight:bold;">
			<td>Apartment No</td>
			<td>Street</td>
			<td>City</td>
			<td>Province</td>
			<td>Postal Code</td>
			<td>Property Manager</td>
			<td>Rent Start</td>
			<td>Rent End</td>
		</tr>
		
		<div th:if="${aptList != null and !aptList.empty}">
			<tr th:each="a : ${aptList}">
				<td th:text="${a.apartmentNo}">409</td>
				<td th:text="${a.street}">145</td>
				<td th:text="${a.city}">Space City</td>
				<td th:text="${a.province}">Sheridan</td>
				<td th:text="${a.postalCode}">A1A 0B0</td>
				<td th:text="${a.propertyManager}">Malek</td>
				<td th:text="${a.rentFrom}">2020-04-10</td>
				<td th:text="${a.rentTo}">2020-04-30</td>
				<td th:text="${a.rent}">1250.0</td>
				<td>
					<form method ="post" th:action="@{/rentProcess}">
						<input type="hidden" name = "myStr" th:value="${a.id}" value="${myStr}">
						<input type="submit" value="Rent!">
					</form>
				</td>
			</tr>
		</div>
		
	</table>
	 -->
	
	
	
</body>
</html>